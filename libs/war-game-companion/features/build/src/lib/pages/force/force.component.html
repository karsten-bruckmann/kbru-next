<ng-container *ngIf="force$ | async as force">
  <ion-header>
    <ion-toolbar>
      <ion-title>{{ force.name }}</ion-title>
    </ion-toolbar>
  </ion-header>

  <ion-content *ngIf="categories$ | async as categories">
    <ion-accordion-group #ag>
      <ion-list inset *ngIf="form$ | async as form" [formGroup]="form">
        <ion-accordion value="form">
          <ion-item color="light" slot="header">
            <ion-label>Add...</ion-label>
          </ion-item>
          <ion-item
            color="light"
            slot="content"
            *ngIf="form.controls.categoryId as control"
          >
            <ion-label position="floating">Category</ion-label>
            <ion-select [formControl]="control">
              <ion-select-option
                *ngFor="let option of control.options$ | async"
                [value]="option.targetId"
                >{{ option.name }}</ion-select-option
              >
            </ion-select>
          </ion-item>
          <ion-item
            color="light"
            slot="content"
            *ngIf="form.controls.entryLinkId as control"
          >
            <ion-label position="floating">Item</ion-label>
            <ion-select [formControl]="control">
              <ion-select-option
                *ngFor="let option of control.options$ | async"
                [value]="option.id"
                >{{ option.name }}</ion-select-option
              >
            </ion-select>
          </ion-item>
          <ion-item color="light" slot="content">
            <!-- <ion-button
              slot="end"
              fill="clear"
              [disabled]="form.invalid"
              (click)="
                ag.value = 'none';
                rosterEditingService.submitAddForceForm(form, rosterId);
                form.reset()
              "
            > -->
            <ion-button
              slot="end"
              fill="clear"
              [disabled]="form.invalid"
              (click)="ag.value = 'none'; form.reset()"
            >
              <ion-icon name="checkmark"></ion-icon>
            </ion-button>
          </ion-item>
        </ion-accordion>
      </ion-list>
    </ion-accordion-group>

    <ion-list>
      <ion-item-group *ngFor="let category of categories">
        <ion-item>{{ category.name }}</ion-item>
      </ion-item-group>
    </ion-list>
  </ion-content>
</ng-container>
