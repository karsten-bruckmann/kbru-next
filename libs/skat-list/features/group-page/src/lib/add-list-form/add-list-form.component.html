<ion-list *ngIf="form$ | async as form" [formGroup]="form">
  <ui-ionic-list-input
    formControlName="playerIds"
    [allowedValues]="form.controls.playerIds.possibleValues"
    [getLabel]="getPlayerLabel"
    [getItemLabel]="form.controls.playerIds.getPlayerName"
    [getItemPlaceholder]="getPlayerPlaceholder"
    [addItem]="getAddPlayerCallback()"
    [length]="
      !form.value.playerIds || form.value.playerIds.length < 3
        ? 3
        : form.value.playerIds.length === 3
        ? 4
        : 5
    "
  ></ui-ionic-list-input>
  <ion-modal class="dialogue" [isOpen]="addPlayerModalOpen">
    <ng-template>
      <skat-list-group-page-add-player-form
        (added)="addPlayerModalOpen = false"
        (canceled)="addPlayerModalOpen = false"
      ></skat-list-group-page-add-player-form>
    </ng-template>
  </ion-modal>
</ion-list>
