<ng-container *ngIf="form$ | async as form" [formGroup]="form">
  <ion-header>
    <ion-toolbar>
      <ion-title>Gruppe erstellen</ion-title>
      <ion-buttons slot="end">
        <ion-button color="danger" (click)="cancel()">
          <ion-icon name="close-outline"></ion-icon>
        </ion-button>
        <ion-button color="success" (click)="submit(form)">
          <ion-icon name="checkmark"></ion-icon>
        </ion-button>
      </ion-buttons>
    </ion-toolbar>
  </ion-header>
  <ion-content>
    <ion-list [formGroup]="form">
      <ion-item>
        <ion-label>Name</ion-label>
        <ion-input formControlName="groupName" autofocus></ion-input>
        <ng-container *ngIf="form.controls.groupName.touched">
          <ion-note
            *ngIf="
              form.controls.groupName.hasError('required') ||
              form.controls.groupName.hasError('type')
            "
            slot="error"
            >Bitte Namen eingeben</ion-note
          >
          <ion-note
            *ngIf="form.controls.groupName.hasError('length')"
            slot="error"
            >5-50 Zeichen sind erlaubt</ion-note
          >
          <ion-note
            *ngIf="form.controls.groupName.hasError('characters')"
            slot="error"
            >Der Name enthält ungültige Zeichen</ion-note
          >
        </ng-container>
      </ion-item>
    </ion-list>
  </ion-content>
</ng-container>
