<ng-container *ngIf="roster$ | async as roster">
  <ng-container *ngIf="detachment$ | async as detachment">
    <ng-container *ngIf="unit$ | async as unit">
      <ion-header>
        <ion-toolbar>
          <ion-buttons slot="start">
            <ion-button
              [routerLink]="['/roster', roster.id]"
              routerDirection="back"
              color="light"
            >
              <ion-icon name="chevron-back"></ion-icon>
            </ion-button>
          </ion-buttons>
          <ion-title>
            <h1 id="roster-title">
              {{ roster.title }}
            </h1>
          </ion-title>
        </ion-toolbar>
      </ion-header>

      <ion-content>
        <h2>
          <feature-translatable
            [text]="detachment.title"
          ></feature-translatable>
        </h2>

        <battle-companion-unit-details
          [unit]="unit"
        ></battle-companion-unit-details>

        <!-- DETACHMENT RULES -->
        <ion-text color="primary">
          <h3 class="separated">
            <feature-translatable
              [text]="'Detachment Rules'"
            ></feature-translatable>
          </h3>
        </ion-text>
        <div class="scroller">
          <table>
            <ng-container *ngFor="let rule of detachmentRules$ | async">
              <tr>
                <th class="wrap">
                  <feature-translatable
                    [text]="rule.title"
                  ></feature-translatable>
                </th>
              </tr>
              <tr>
                <td class="wrap long">
                  <feature-translatable
                    [text]="rule.description"
                  ></feature-translatable>
                </td>
              </tr>
            </ng-container>
          </table>
        </div>
      </ion-content>
    </ng-container>
  </ng-container>
</ng-container>
